<!doctype html public "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

<head>
<meta http-equiv = "Content-Type" content = "text/html;charset=UTF-8">
<!-- Steal these colour values from JavaDocs. -->
<style type = "text/css">
	a:link,  a:visited { color: #4a6782; }
	a:hover, a:focus   { color: #bb7a2a; }
	a:active           { color: #4A6782; }
	tr:nth-child(even) { background: #dee3e9; }
	div {
		margin:  4px 0;
		padding: 0 4px 4px 4px;
	}
	table      { width: 100%; }
	td         { padding: 4px; }
	h3, h1 {
		color: #2c4557;
		background-color: #dee3e9;
		padding:          4px;
	}
	h3 {
		margin:           0 -4px;
		padding:          4px;
	}
</style>
<title>bmp.h</title>
</head>

<body>

<h1>bmp.h</h1>

<p>Stand-alone header <a href = "src/bmp.h">src/bmp.h</a>; examples <a href = "test/test_bmp.c">test/test_bmp.c</a>; on a compatible workstation, <code>make</code> creates the test suite of the examples.</p>

<h2>Fixed bit-field</h2>

<ul>
	<li><a href = "#preamble:">Description</a></li>
	<li><a href = "#typedef:">Typedef Aliases</a>: <a href = "#typedef:bmpchunk">bmpchunk</a></li>
	<li><a href = "#tag:">Struct, Union, and Enum Definitions</a>: <a href = "#tag:<M>bmp">&lt;M&gt;bmp</a></li>
	<li><a href = "#summary:">Function Summary</a></li>
	<li><a href = "#fn:">Function Definitions</a></li>
	<li><a href = "#license:">License</a></li>
</ul>

<div>

<h2><a id = "preamble:" name = "preamble:">Description</a></h2>

<p><code>&lt;M&gt;bmp</code> is a bit-field of <code>BMP_BITS</code> bits. The representation in memory is most-signifiant bit first.</p>

<dl>
	<dt>Parameter: BMP_NAME, BMP_BITS</dt>
	<dd><code>&lt;M&gt;</code> that satisfies <code>C</code> naming conventions when mangled and a number of bits associated therewith, which must be positive; required. <code>&lt;PM&gt;</code> is private, whose names are prefixed in a manner to avoid collisions.</dd>
	<dt>Standard:</dt>
	<dd>C89/90</dd>
</dl>

</div>

<h2><a id = "typedef:" name = "typedef:">Typedef Aliases</a></h2>

<div>

<h3><a id = "typedef:bmpchunk" name = "typedef:bmpchunk">bmpchunk</a></h3>

<p><code>typedef unsigned <strong>bmpchunk</strong>;</code></p>

<p>The underlying array type.</p>

</div>

<h2><a id = "tag:" name = "tag:">Struct, Union, and Enum Definitions</a></h2>

<div>

<h3><a id = "tag:<M>bmp" name = "tag:<M>bmp">&lt;M&gt;bmp</a></h3>

<p><code>struct <strong>&lt;M&gt;bmp</strong> { bmpchunk chunk[BMP_CHUNKS]; };</code></p>

<p>An array of <code>BMP_BITS</code> bits, (taking up the next multiple of <code>sizeof(bmpchunk)</code> &#215; <code>CHARBIT</code>.)</p>

</div>

<div>

<h2><a id = "summary:" name = "summary:">Function Summary</a></h2>

<table>

<tr><th>Modifiers</th><th>Function Name</th><th>Argument List</th></tr>

<tr><td align = right>static void</td><td><a href = "#fn:<M>bmp_clear_all">&lt;M&gt;bmp_clear_all</a></td><td>a</td></tr>

<tr><td align = right>static void</td><td><a href = "#fn:<M>bmp_invert_all">&lt;M&gt;bmp_invert_all</a></td><td>a</td></tr>

<tr><td align = right>static unsigned</td><td><a href = "#fn:<M>bmp_test">&lt;M&gt;bmp_test</a></td><td>a, x</td></tr>

<tr><td align = right>static void</td><td><a href = "#fn:<M>bmp_set">&lt;M&gt;bmp_set</a></td><td>a, x</td></tr>

<tr><td align = right>static void</td><td><a href = "#fn:<M>bmp_clear">&lt;M&gt;bmp_clear</a></td><td>a, x</td></tr>

<tr><td align = right>static void</td><td><a href = "#fn:<M>bmp_toggle">&lt;M&gt;bmp_toggle</a></td><td>a, x</td></tr>

<tr><td align = right>static void</td><td><a href = "#fn:<M>bmp_insert">&lt;M&gt;bmp_insert</a></td><td>a, x, n</td></tr>

<tr><td align = right>static void</td><td><a href = "#fn:<M>bmp_remove">&lt;M&gt;bmp_remove</a></td><td>a, x, n</td></tr>

</table>

</div>

<div>

<h2><a id = "fn:" name = "fn:">Function Definitions</a></h2>

<div>

<h3><a id = "fn:<M>bmp_clear_all" name = "fn:<M>bmp_clear_all">&lt;M&gt;bmp_clear_all</a></h3>

<p><code>static void <strong>&lt;M&gt;bmp_clear_all</strong>(struct &lt;M&gt;bmp *const <em>a</em>)</code></p>

<p>Sets <code>a</code> to all false.</p>

</div>

<div>

<h3><a id = "fn:<M>bmp_invert_all" name = "fn:<M>bmp_invert_all">&lt;M&gt;bmp_invert_all</a></h3>

<p><code>static void <strong>&lt;M&gt;bmp_invert_all</strong>(struct &lt;M&gt;bmp *const <em>a</em>)</code></p>

<p>Inverts all entries of <code>a</code>.</p>

</div>

<div>

<h3><a id = "fn:<M>bmp_test" name = "fn:<M>bmp_test">&lt;M&gt;bmp_test</a></h3>

<p><code>static unsigned <strong>&lt;M&gt;bmp_test</strong>(const struct &lt;M&gt;bmp *const <em>a</em>, const unsigned <em>x</em>)</code></p>

<dl>
	<dt>Return:</dt>
	<dd>Projects the eigenvalue of bit <code>x</code> of <code>a</code>. Either zero of non-zero, but not necessarily one.</dd>
</dl>

</div>

<div>

<h3><a id = "fn:<M>bmp_set" name = "fn:<M>bmp_set">&lt;M&gt;bmp_set</a></h3>

<p><code>static void <strong>&lt;M&gt;bmp_set</strong>(struct &lt;M&gt;bmp *const <em>a</em>, const unsigned <em>x</em>)</code></p>

<p>Sets bit <code>x</code> in <code>a</code>.</p>

</div>

<div>

<h3><a id = "fn:<M>bmp_clear" name = "fn:<M>bmp_clear">&lt;M&gt;bmp_clear</a></h3>

<p><code>static void <strong>&lt;M&gt;bmp_clear</strong>(struct &lt;M&gt;bmp *const <em>a</em>, const unsigned <em>x</em>)</code></p>

<p>Clears bit <code>x</code> in <code>a</code>.</p>

</div>

<div>

<h3><a id = "fn:<M>bmp_toggle" name = "fn:<M>bmp_toggle">&lt;M&gt;bmp_toggle</a></h3>

<p><code>static void <strong>&lt;M&gt;bmp_toggle</strong>(struct &lt;M&gt;bmp *const <em>a</em>, const unsigned <em>x</em>)</code></p>

<p>Toggles bit <code>x</code> in <code>a</code>.</p>

</div>

<div>

<h3><a id = "fn:<M>bmp_insert" name = "fn:<M>bmp_insert">&lt;M&gt;bmp_insert</a></h3>

<p><code>static void <strong>&lt;M&gt;bmp_insert</strong>(struct &lt;M&gt;bmp *const <em>a</em>, const unsigned <em>x</em>, const unsigned <em>n</em>)</code></p>

<p>Inserts <code>n</code> zeros at <code>x</code> in <code>a</code>. The <code>n</code> right bits are discarded.</p>

</div>

<div>

<h3><a id = "fn:<M>bmp_remove" name = "fn:<M>bmp_remove">&lt;M&gt;bmp_remove</a></h3>

<p><code>static void <strong>&lt;M&gt;bmp_remove</strong>(struct &lt;M&gt;bmp *const <em>a</em>, const unsigned <em>x</em>, const unsigned <em>n</em>)</code></p>

<p>Removes <code>n</code> at <code>x</code> in <code>a</code>. The <code>n</code> bits coming from the right are zero.</p>

</div>

</div>

<div>

<h2><a id = "license:" name = "license:">License</a></h2>

<p>2021 Neil Edelman, distributed under the terms of the <a href = "https://opensource.org/licenses/MIT">MIT License</a>.</p>

</div>

</body>

</html>
